<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Electronic Symbols Quiz Game</title>
  <link rel="icon" type="image/png" href="head.png"/>
  <link rel="stylesheet" href="assets/theme.css"/>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--ink);
      margin: 0;
      padding: 2rem;
    }
    #game {
      max-width: 500px;
      margin: auto;
      background: var(--card);
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
      text-align: center;
    }
    #symbol svg {
      width: 150px;
      height: auto;
      margin: 1rem 0;
    }
    .option-btn {
      display: block;
      width: 100%;
      margin: 0.5rem 0;
      padding: 0.75rem;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background: var(--bg-muted);
      color: var(--ink);
    }
    .option-btn:hover {
      background: #333;
    }
    .correct {
      background: #2e7d32 !important;
    }
    .incorrect {
      background: #c62828 !important;
    }
    #progress {
      margin-top: 1rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div data-include="header"></div>
  <div id="game">
    <h1>Electronic Symbols Quiz</h1>
    <label for="difficulty">Difficulty:</label>
    <select id="difficulty">
      <option value="easy">Easy</option>
      <option value="medium">Medium</option>
      <option value="hard">Hard</option>
    </select>
    <div id="symbol"></div>
    <div id="options"></div>
    <div id="progress"></div>
  </div>

  <div data-include="footer"></div>
  <script src="assets/partials.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const pools = {
        easy: [
          { name: 'Resistor', svg: '<svg viewBox="0 0 100 50"><polyline points="0,25 10,25 15,15 25,35 35,15 45,35 55,15 65,35 75,15 85,35 100,25" stroke="black" fill="none" stroke-width="2"/></svg>' },
          { name: 'Capacitor', svg: '<svg viewBox="0 0 100 50"><line x1="40" y1="10" x2="40" y2="40" stroke="black" stroke-width="2"/><line x1="60" y1="10" x2="60" y2="40" stroke="black" stroke-width="2"/><line x1="0" y1="25" x2="40" y2="25" stroke="black" stroke-width="2"/><line x1="60" y1="25" x2="100" y2="25" stroke="black" stroke-width="2"/></svg>' },
          { name: 'Inductor', svg: '<svg viewBox="0 0 100 50"><path d="M0,25 a12,12 0 0,1 24,0 a12,12 0 0,1 24,0 a12,12 0 0,1 24,0 a12,12 0 0,1 24,0" stroke="black" fill="none" stroke-width="2"/></svg>' },
          { name: 'Ground', svg: '<svg viewBox="0 0 100 50"><line x1="50" y1="5" x2="50" y2="20" stroke="black" stroke-width="2"/><line x1="35" y1="20" x2="65" y2="20" stroke="black" stroke-width="2"/><line x1="40" y1="25" x2="60" y2="25" stroke="black" stroke-width="2"/><line x1="45" y1="30" x2="55" y2="30" stroke="black" stroke-width="2"/></svg>' },
          { name: 'Switch', svg: '<svg viewBox="0 0 100 50"><line x1="0" y1="25" x2="40" y2="25" stroke="black" stroke-width="2"/><line x1="40" y1="25" x2="60" y2="10" stroke="black" stroke-width="2"/><line x1="60" y1="25" x2="100" y2="25" stroke="black" stroke-width="2"/></svg>' },
          { name: 'Battery', svg: '<svg viewBox="0 0 100 50"><line x1="0" y1="25" x2="35" y2="25" stroke="black" stroke-width="2"/><line x1="35" y1="15" x2="35" y2="35" stroke="black" stroke-width="4"/><line x1="55" y1="10" x2="55" y2="40" stroke="black" stroke-width="2"/><line x1="55" y1="25" x2="100" y2="25" stroke="black" stroke-width="2"/></svg>' },
          { name: 'Lamp', svg: '<svg viewBox="0 0 100 50"><circle cx="50" cy="25" r="20" stroke="black" fill="none" stroke-width="2"/><line x1="40" y1="15" x2="60" y2="35" stroke="black" stroke-width="2"/><line x1="60" y1="15" x2="40" y2="35" stroke="black" stroke-width="2"/></svg>' }
        ],
        medium: [],
        hard: []
      };

      pools.medium = pools.easy.concat([
        { name: 'Diode', svg: '<svg viewBox="0 0 100 50"><line x1="0" y1="25" x2="40" y2="25" stroke="black" stroke-width="2"/><polygon points="40,10 80,25 40,40" stroke="black" fill="none" stroke-width="2"/><line x1="80" y1="10" x2="80" y2="40" stroke="black" stroke-width="2"/><line x1="80" y1="25" x2="100" y2="25" stroke="black" stroke-width="2"/></svg>' },
        { name: 'LED', svg: '<svg viewBox="0 0 120 60"><line x1="0" y1="30" x2="40" y2="30" stroke="black" stroke-width="2"/><polygon points="40,15 80,30 40,45" stroke="black" fill="none" stroke-width="2"/><line x1="80" y1="15" x2="80" y2="45" stroke="black" stroke-width="2"/><path d="M90,10 l15,10 M90,20 l15,10" stroke="black" stroke-width="2"/></svg>' },
        { name: 'Motor', svg: '<svg viewBox="0 0 100 50"><circle cx="50" cy="25" r="20" stroke="black" fill="none" stroke-width="2"/><text x="50" y="30" text-anchor="middle" font-size="20">M</text></svg>' }
      ]);

      pools.hard = pools.medium.concat([
        { name: 'Op Amp', svg: '<svg viewBox="0 0 100 60"><polygon points="20,10 80,30 20,50" stroke="black" fill="none" stroke-width="2"/><line x1="20" y1="30" x2="0" y2="30" stroke="black" stroke-width="2"/><line x1="80" y1="30" x2="100" y2="30" stroke="black" stroke-width="2"/><line x1="45" y1="20" x2="45" y2="40" stroke="black" stroke-width="2"/><line x1="45" y1="20" x2="55" y2="20" stroke="black" stroke-width="2"/><line x1="45" y1="40" x2="55" y2="40" stroke="black" stroke-width="2"/></svg>' },
        { name: 'NPN Transistor', svg: '<svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="20" stroke="black" fill="none" stroke-width="2"/><line x1="50" y1="30" x2="50" y2="10" stroke="black" stroke-width="2"/><line x1="50" y1="70" x2="50" y2="90" stroke="black" stroke-width="2"/><line x1="30" y1="50" x2="10" y2="50" stroke="black" stroke-width="2"/><line x1="65" y1="35" x2="80" y2="20" stroke="black" stroke-width="2"/><line x1="65" y1="65" x2="80" y2="80" stroke="black" stroke-width="2"/></svg>' }
      ]);

      let currentIndex = 0;
      let score = 0;
      let active = [];
      let total = 0;
      const difficultySelect = document.getElementById('difficulty');

      function shuffle(arr) {
        return arr.sort(() => Math.random() - 0.5);
      }

      function startGame() {
        currentIndex = 0;
        score = 0;
        const level = difficultySelect.value;
        active = shuffle([...pools[level]]);
        total = active.length;
        showQuestion(level);
      }

      function showQuestion(level) {
        const gameEl = document.getElementById('game');
        if (currentIndex >= total) {
          gameEl.innerHTML = `<h2>Your Score: ${score} / ${total}</h2><button onclick="startGame()">Play Again</button>`;
          return;
        }

        const symbol = active[currentIndex];
        document.getElementById('symbol').innerHTML = symbol.svg;

        const names = shuffle([symbol.name, ...active.filter(s => s.name !== symbol.name).slice(0, 3).map(s => s.name)]);
        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = '';

        names.forEach(name => {
          const btn = document.createElement('button');
          btn.textContent = name;
          btn.className = 'option-btn';
          btn.onclick = () => handleAnswer(name === symbol.name, btn);
          optionsDiv.appendChild(btn);
        });

        document.getElementById('progress').textContent = `Question ${currentIndex + 1} of ${total} â€” ${level.charAt(0).toUpperCase() + level.slice(1)}`;
      }

      function handleAnswer(isCorrect, button) {
        if (isCorrect) {
          score++;
          button.classList.add('correct');
        } else {
          button.classList.add('incorrect');
        }
        document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);
        currentIndex++;
        setTimeout(() => showQuestion(difficultySelect.value), 1000);
      }

      difficultySelect.addEventListener('change', startGame);
      startGame();
    });
  </script>
</body>
</html>
